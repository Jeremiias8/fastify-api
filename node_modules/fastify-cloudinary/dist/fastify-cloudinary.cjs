"use strict";const u=require("url"),c=require("fastify-plugin"),i=require("cloudinary"),l=c(async(n,t)=>{const s=(o="")=>{var e,a;const r=u.urlToHttpOptions(new URL(o));return{cloud_name:r.hostname||void 0,api_key:(e=r.auth)==null?void 0:e.split(":")[0],api_secret:(a=r.auth)==null?void 0:a.split(":")[1],...t}};i.v2.config(s(t.url)),n.decorate("cloudinary",i.v2)},{fastify:"4.x",name:"fastify-cloudinary"});module.exports=l;
